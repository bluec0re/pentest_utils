<?php



$name = $argv[1];


$settings = array(
    'name' => $name,
    'greeting' => ('cowsay ' . escapeshellarg("Hello $name!")),
);

$serialized = serialize($settings);


echo "\033[33mSerialized\n";
echo "==========\033[0m\n\n";

echo $serialized . "\n";


echo "\n\n\n\n";
echo "\033[33mSerialized, splitted in blocks\n";
echo "==============================\033[0m\n\n";


for($i = 0; $i < strlen($serialized)/16; $i++) {
    echo sprintf("\033[30m%3d\033[0m\t", $i*16);
    echo substr($serialized, $i*16, 16);
    if($i*16+15 > strlen($serialized))
        echo str_pad(" ", strlen($serialized) - $i*16+15);
    echo sprintf("\t\033[30m%3d\033[0m", $i*16+15) . "\n";
}
